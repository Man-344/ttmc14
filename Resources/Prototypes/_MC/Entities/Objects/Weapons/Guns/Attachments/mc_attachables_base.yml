# Tags for Attachments
- type: Tag
  id: MCAttachmentBaseMuzzle # Дуло

- type: Tag
  id: MCAttachmentBaseRail # Планка

- type: Tag
  id: MCAttachmentBaseStock # Приклад

- type: Tag
  id: MCAttachmentBaseUnderbarrel # Подствольник

# Base Attachable
- type: entity
  parent: BaseItem
  abstract: true
  id: MCAttachableBase
  components:
  - type: Item
    size: Small
  - type: Attachable
  - type: Appearance

- type: entity
  parent: MCAttachableBase
  abstract: true
  id: MCAttachableToggleableBase
  components:
  - type: AttachableToggleable
  - type: UseDelay
    delay: 0

# Bases Attachments
- type: entity
  parent: MCAttachableBase
  id: MCAttachmentBaseMuzzle # Дуло
  abstract: true
  components:
  - type: Sprite
    sprite: _MC/Objects/Weapons/Guns/Attachments/muzzle.rsi
  - type: Tag
    tags:
    - MCAttachmentBaseMuzzle

- type: entity
  abstract: true
  parent: MCAttachableBase
  id: MCAttachmentBaseRail # Планка
  components:
  - type: Sprite
    sprite: _MC/Objects/Weapons/Guns/Attachments/rail.rsi
  - type: Tag
    tags:
    - MCAttachmentBaseRail

- type: entity
  parent: MCAttachableBase
  id: MCAttachmentBaseStock # Приклад
  abstract: true
  components:
  - type: Sprite
    sprite: _MC/Objects/Weapons/Guns/Attachments/stock.rsi
  - type: Tag
    tags:
    - MCAttachmentBaseStock

- type: entity
  parent: MCAttachableBase
  id: MCAttachmentBaseUnderbarrel # Подствольник
  abstract: true
  components:
  - type: Sprite
    sprite: _MC/Objects/Weapons/Guns/Attachments/underbarrel.rsi
  - type: Tag
    tags:
    - MCAttachmentBaseUnderbarrel

- type: entity
  abstract: true
  parent: [ MCAttachmentBaseStock, MCAttachableToggleableBase ]
  id: MCAttachmentBaseCollapsibleStock # Складной приклад
  components:
  - type: AttachableVisuals
    showActive: true
  - type: Tag
    tags:
    - MCAttachmentBaseStock
  - type: AttachableToggleable
    activatePopupText: attachable-popup-activate-unfold
    deactivatePopupText: attachable-popup-deactivate-collapse
    actionDesc: Extend the stock.
  - type: AttachableWieldDelayMods
    modifiers: []
  - type: Appearance

- type: entity
  abstract: true
  parent: [ MCAttachmentBaseRail, MCAttachableToggleableBase ]
  id: MCAttachmentBaseScope # Прицел
  components:
  - type: AttachableToggleable
    needHand: true
    heldOnlyActivate: true
    userOnly: true
    doInterrupt: true
    attachedOnly: true
    breakOnMove: true
    breakOnRotate: true
    wieldedOnly: true
    useDelay: 0.5
    showTogglePopup: false
    icon:
      sprite: _MC/Objects/Weapons/Guns/Attachments/rail.rsi
      state: sniperscope
    actionName: Look through Scope
    actionDesc: Scope in. If you're seeing this, someone forgot to set the description properly.
  - type: AttachableToggleableSimpleActivate
  - type: Scope
    requireWielding: true
    attachment: true
    useInHand: true
    zoomLevels:
    - zoom: 1
      offset: 15
      allowMovement: false
      doAfter: 0
